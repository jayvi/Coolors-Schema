var Utils={};!function(){"use strict";Utils.each=function(e,t){"string"==typeof e&&(e=document.querySelectorAll(e));for(var r=0;r<e.length;r++)"function"==typeof t&&t(r,e[r])},Utils.addClass=function(e,t){Utils.hasClass(e,t)||(e.className+=" "+t,e.className=e.className.replace(/ +(?= )/g,"").trim())},Utils.hasClass=function(e,t){return t=" "+t+" ",!!e&&(" "+e.className+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1},Utils.removeClass=function(e,t){e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)","g"),"$1").replace(/ +(?= )/g,"").trim()},Utils.extend=function(e,t){var r,s={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=e[r]);for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=t[r]);return s},Utils.inputSelectionRange=function(e,t,r){if(e.createTextRange){var s=e.createTextRange();s.collapse(!0),s.moveStart("character",t),s.moveEnd("character",r),s.select(),e.focus()}else e.setSelectionRange?(e.focus(),e.setSelectionRange(t,r)):"undefined"!=typeof e.selectionStart&&(e.selectionStart=t,e.selectionEnd=r,e.focus())},Utils.isDescendantOrSelfOf=function(e,t){if(e==t)return!0;for(var r=e.parentNode;null!==r;){if(r==t)return!0;r=r.parentNode}return!1},Utils.createElementAndAppendIt=function(e,t,r){r||(r="div");var s=document.createElement(r);return s.className=e,t.appendChild(s),s}}();var Tabs;!function(){"use strict";Tabs=function(e,t){this.element=e;var r=Utils.extend({onChange:function(){}},t),s=this,i=this.element.querySelectorAll(" .tabs-btns > ul > li > a");Utils.each(i,function(t,n){n.addEventListener("click",function(){Utils.each(i,function(e,t){Utils.removeClass(t,"active")}),Utils.addClass(n,"active");var t=this.getAttribute("data-tab");Utils.each(s.element.querySelectorAll(" .tab-pane "),function(s,i){i.getAttribute("data-tab")===t?(Utils.addClass(i,"active"),Utils.addClass(e,"active"),r.onChange()):Utils.removeClass(i,"active")})})})}}();var Slider;!function(){"use strict";Slider=function(e,t){var r=this.settings=Utils.extend({value:0,max:100,controls:!0,onChange:function(e){return e}},t),s=this;if(Utils.addClass(e,"slider-container"),r.controls){var i=Utils.createElementAndAppendIt("slider-controls",e),n=Utils.createElementAndAppendIt("slider-inc",i,"button");n.innerHTML="+";var o=Utils.createElementAndAppendIt("slider-dec",i,"button");o.innerHTML="-";var h=this.input=Utils.createElementAndAppendIt("slider-input",i,"input");n.addEventListener("click",function(){r.value<r.max&&(s.update(parseInt(s.settings.value)+1),h.value=r.value)}),o.addEventListener("click",function(){r.value>0&&(s.update(parseInt(s.settings.value)-1),h.value=r.value)}),h.addEventListener("keyup",function(){var e=parseInt(this.value);e===this.value&&s.update(e)}),h.value=r.value}this.slider=Utils.createElementAndAppendIt("slider",e),this.handle=Utils.createElementAndAppendIt("slider-handle",this.slider),this.refresh(),this.slider.addEventListener("mousedown",function(e){var t={x:s.currentPosition+s.bounds.left},i=function(e){e.preventDefault();var i=e.pageX-t.x;i<0&&e.pageX<s.bounds.left&&r.value<=0||i>0&&e.pageX>s.bounds.left+s.bounds.width&&s.currentPosition>=s.bounds.width||(s.currentPosition+=i,t.x=e.pageX,s.currentPosition<0&&(s.currentPosition=0),s.currentPosition>s.bounds.width&&(s.currentPosition=s.bounds.width),s.currentPosition=Math.round(s.currentPosition),s.handle.style.left=Math.round(s.currentPosition-s.handleBounds.width/2)+"px",r.value=Math.round(s.currentPosition/s.bounds.width*r.max),r.onChange(r.value),r.controls&&(h.value=r.value))};i(e);var n=function(){document.removeEventListener("mousemove",i),document.removeEventListener("mousemove",n)};document.addEventListener("mousemove",i),document.addEventListener("mouseup",n)})},Slider.prototype.update=function(e){this.move(e),this.settings.onChange(this.settings.value)},Slider.prototype.move=function(e){this.currentPosition=Math.round(e/this.settings.max*this.bounds.width),this.handle.style.left=Math.round(this.currentPosition-this.handleBounds.width/2)+"px",this.settings.value=e,this.settings.controls&&(this.input.value=this.settings.value)},Slider.prototype.getSliderDom=function(){return this.slider},Slider.prototype.refresh=function(){this.bounds=this.slider.getBoundingClientRect(),this.handleBounds=this.handle.getBoundingClientRect(),this.move(this.settings.value)}}();var ColorConverter={};!function(){"use strict";ColorConverter.HSV=function(e,t,r){e<=0&&(e=0),t<=0&&(t=0),r<=0&&(r=0),e>1&&(e=1),t>1&&(t=1),r>1&&(r=1),this.h=e,this.s=t,this.v=r},ColorConverter.HSV.prototype.toString=function(){return"HSV("+this.h+", "+this.s+","+this.v+")"},ColorConverter.RGB=function(e,t,r){e<=0&&(e=0),t<=0&&(t=0),r<=0&&(r=0),e>255&&(e=255),t>255&&(t=255),r>255&&(r=255),this.r=e,this.g=t,this.b=r},ColorConverter.RGB.prototype.toString=function(){return"rgb("+this.r+", "+this.g+","+this.b+")"},ColorConverter.CMYK=function(e,t,r,s){e<=0&&(e=0),t<=0&&(t=0),r<=0&&(r=0),s<=0&&(s=0),e>100&&(e=100),t>100&&(t=100),r>100&&(r=100),s>100&&(s=100),this.c=e,this.m=t,this.y=r,this.k=s},ColorConverter.CMYK.prototype.toString=function(){return"cmyk("+this.c+", "+this.m+","+this.y+","+this.k+")"},ColorConverter.rgb2hsv=function(e){var t,r,s,i,n,o=e.r/255,h=e.g/255,l=e.b/255,a=Math.max(o,h,l),d=a-Math.min(o,h,l),c=function(e){return(a-e)/6/d+.5};return 0===d?i=n=0:(n=d/a,t=c(o),r=c(h),s=c(l),o===a?i=s-r:h===a?i=1/3+t-s:l===a&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),new ColorConverter.HSV(i,n,a)},ColorConverter.hsv2rgb=function(e){var t=new ColorConverter.RGB(0,0,0),r=Math.floor(6*e.h),s=6*e.h-r,i=e.v*(1-e.s),n=e.v*(1-s*e.s),o=e.v*(1-(1-s)*e.s);switch(r%6){case 0:t.r=e.v,t.g=o,t.b=i;break;case 1:t.r=n,t.g=e.v,t.b=i;break;case 2:t.r=i,t.g=e.v,t.b=o;break;case 3:t.r=i,t.g=n,t.b=e.v;break;case 4:t.r=o,t.g=i,t.b=e.v;break;case 5:t.r=e.v,t.g=i,t.b=n}return t.r=Math.round(255*t.r),t.g=Math.round(255*t.g),t.b=Math.round(255*t.b),t},ColorConverter.rgb2hex=function(e){return"#"+((1<<24)+(e.r<<16)+(e.g<<8)+e.b).toString(16).slice(1)},ColorConverter.hex2rgb=function(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,r,s){return t+t+r+r+s+s});var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(r)return new ColorConverter.RGB(parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16))},ColorConverter.rgb2cmyk=function(e){var t=new ColorConverter.CMYK(0,0,0,0);if(0===e.r&&0===e.g&&0===e.b)return t.k=100,t;t.c=1-e.r/255,t.m=1-e.g/255,t.y=1-e.b/255;var r=Math.min(t.c,Math.min(t.m,t.y));return t.c=Math.round((t.c-r)/(1-r)*100),t.m=Math.round((t.m-r)/(1-r)*100),t.y=Math.round((t.y-r)/(1-r)*100),t.k=Math.round(100*r),t},ColorConverter.cmyk2rgb=function(e){var t=new ColorConverter.RGB(0,0,0),r=e.c/100,s=e.m/100,i=e.y/100,n=e.k/100;return t.r=1-Math.min(1,r*(1-n)+n),t.g=1-Math.min(1,s*(1-n)+n),t.b=1-Math.min(1,i*(1-n)+n),t.r=Math.round(255*t.r),t.g=Math.round(255*t.g),t.b=Math.round(255*t.b),t}}();var ColorPicker;!function(){"use strict";var e=function(e,t){e.addEventListener("mousedown",function(r){t.apply(e[0],[r]);var s=function(){document.removeEventListener("mousemove",t)};document.addEventListener("mousemove",t),document.addEventListener("mouseup",s)})};ColorPicker=function(t,r){this.selector=t;var s=this.settings=Utils.extend({hex:"#000",sliders:{hue:{h:null,s:null,v:null},rgb:{r:null,g:null,b:null}},onChange:function(e){return e}},r);this.rgb=ColorConverter.hex2rgb(s.hex),this.hsv=ColorConverter.rgb2hsv(this.rgb),this.pickingArea=Utils.createElementAndAppendIt("picking-area",t),this.pickerHandle=Utils.createElementAndAppendIt("picker-handle",this.pickingArea),this.huePicker=Utils.createElementAndAppendIt("color-picker-h",t),this.refreshPicker();var i=this;e(this.pickingArea,function(e){var t=e.pageX-(i.pickingAreaBounds.left+window.scrollX),r=e.pageY-(i.pickingAreaBounds.top+window.scrollY);e.preventDefault(),t<0&&(t=0),r<0&&(r=0),t>i.pickingAreaBounds.width&&(t=i.pickingAreaBounds.width),r>i.pickingAreaBounds.height&&(r=i.pickingAreaBounds.height),i.pickerHandle.style.left=Math.round(t-i.pickerHandleBounds.width/2)+"px",i.pickerHandle.style.top=Math.round(r-i.pickerHandleBounds.height/2)+"px",i.hsv.s=t/i.pickingAreaBounds.width,i.hsv.v=1-r/i.pickingAreaBounds.height,i.hsv.v=parseFloat(i.hsv.v.toFixed(3)),i.hsv.s=parseFloat(i.hsv.s.toFixed(3)),i.fetchColors(),i.updateGradients(),i.refreshSliders(),s.onChange.apply(i)}),this.pickerHueSlider=new Slider(i.huePicker,{max:360,value:Math.round(360*this.hsv.h),controls:!1,onChange:function(e){i.hsv.h=e/360,i.fetchColors(),i.refreshSliders(),i.updateGradients(),s.onChange.apply(i)}}),this.update(),this.hsvSliders={},this.settings.sliders.hue.h||(this.settings.sliders.hue.h=Utils.createElementAndAppendIt("hsv-h-slider",t)),this.hsvSliders.h=new Slider(this.settings.sliders.hue.h,{max:360,value:Math.round(360*this.hsv.h),onChange:function(e){i.updateH(e/360),i.updateGradients(),i.refreshSliders("hsv")}}),this.settings.sliders.hue.s||(this.settings.sliders.hue.s=Utils.createElementAndAppendIt("hsv-s-slider",t)),this.hsvSliders.s=new Slider(this.settings.sliders.hue.s,{max:100,value:Math.round(100*this.hsv.s),onChange:function(e){i.updateS(e/100),i.updateGradients(),i.refreshSliders("hsv")}}),this.settings.sliders.hue.v||(this.settings.sliders.hue.v=Utils.createElementAndAppendIt("hsv-v-slider",t)),this.hsvSliders.v=new Slider(this.settings.sliders.hue.v,{max:100,value:Math.round(100*this.hsv.v),onChange:function(e){i.updateV(e/100),i.updateGradients(),i.refreshSliders("hsv")}}),this.rgbSliders={},this.settings.sliders.rgb.r||(this.settings.sliders.rgb.r=Utils.createElementAndAppendIt("rgb-r-slider",t)),this.rgbSliders.r=new Slider(this.settings.sliders.rgb.r,{max:255,value:this.rgb.r,onChange:function(e){i.rgb.r=e,i.update(ColorConverter.rgb2hsv(i.rgb)),i.updateGradients(),i.refreshSliders("rgb")}}),this.settings.sliders.rgb.g||(this.settings.sliders.rgb.g=Utils.createElementAndAppendIt("rgb-g-slider",t)),this.rgbSliders.g=new Slider(this.settings.sliders.rgb.g,{max:255,value:this.rgb.g,onChange:function(e){i.rgb.g=e,i.update(ColorConverter.rgb2hsv(i.rgb)),i.updateGradients(),i.refreshSliders("rgb")}}),this.settings.sliders.rgb.b||(this.settings.sliders.rgb.b=Utils.createElementAndAppendIt("rgb-b-slider",t)),this.rgbSliders.b=new Slider(this.settings.sliders.rgb.b,{max:255,value:this.rgb.b,onChange:function(e){i.rgb.b=e,i.update(ColorConverter.rgb2hsv(i.rgb)),i.updateGradients(),i.refreshSliders("rgb")}}),this.cmykSliders={},this.settings.sliders.cmyk.c||(this.settings.sliders.cmyk.c=Utils.createElementAndAppendIt("cmyk-c-slider",t)),this.cmykSliders.c=new Slider(this.settings.sliders.cmyk.c,{max:100,value:i.cmyk.c,onChange:function(e){i.cmyk.c=e,i.rgb=ColorConverter.cmyk2rgb(new ColorConverter.CMYK(i.cmyk.c,i.cmyk.m,i.cmyk.y,i.cmyk.k)),i.update(ColorConverter.rgb2hsv(i.rgb)),i.updateGradients(),i.refreshSliders("cmyk")}}),this.settings.sliders.cmyk.m||(this.settings.sliders.cmyk.m=Utils.createElementAndAppendIt("cmyk-m-slider",t)),this.cmykSliders.m=new Slider(this.settings.sliders.cmyk.m,{max:100,value:i.cmyk.m,onChange:function(e){i.cmyk.m=e,i.rgb=ColorConverter.cmyk2rgb(new ColorConverter.CMYK(i.cmyk.c,i.cmyk.m,i.cmyk.y,i.cmyk.k)),i.update(ColorConverter.rgb2hsv(i.rgb)),i.updateGradients(),i.refreshSliders("cmyk")}}),this.settings.sliders.cmyk.y||(this.settings.sliders.cmyk.y=Utils.createElementAndAppendIt("cmyk-y-slider",t)),this.cmykSliders.y=new Slider(this.settings.sliders.cmyk.y,{max:100,value:i.cmyk.y,onChange:function(e){i.cmyk.y=e,i.rgb=ColorConverter.cmyk2rgb(new ColorConverter.CMYK(i.cmyk.c,i.cmyk.m,i.cmyk.y,i.cmyk.k)),i.update(ColorConverter.rgb2hsv(i.rgb)),i.updateGradients(),i.refreshSliders("cmyk")}}),this.settings.sliders.cmyk.k||(this.settings.sliders.cmyk.k=Utils.createElementAndAppendIt("cmyk-k-slider",t)),this.cmykSliders.k=new Slider(this.settings.sliders.cmyk.k,{max:100,value:i.cmyk.k,onChange:function(e){i.cmyk.k=e,i.rgb=ColorConverter.cmyk2rgb(new ColorConverter.CMYK(i.cmyk.c,i.cmyk.m,i.cmyk.y,i.cmyk.k)),i.update(ColorConverter.rgb2hsv(i.rgb)),i.updateGradients(),i.refreshSliders("cmyk")}}),this.updateGradients(),s.onInit.apply(this)},ColorPicker.prototype.update=function(e){e&&(this.hsv=e),this.fetchColors(),this.pickerHandle.style.left=Math.round(this.hsv.s*this.pickingAreaBounds.width-this.pickerHandleBounds.width/2)+"px",this.pickerHandle.style.top=Math.round((1-this.hsv.v)*this.pickingAreaBounds.height-this.pickerHandleBounds.height/2)+"px",this.pickerHueSlider.move(Math.round(360*this.hsv.h)),this.settings.onChange.apply(this)},ColorPicker.prototype.getHueGradient=function(){return" -webkit-linear-gradient(left,"+ColorConverter.hsv2rgb(new ColorConverter.HSV(0,this.hsv.s,this.hsv.v)).toString()+","+ColorConverter.hsv2rgb(new ColorConverter.HSV(60/360,this.hsv.s,this.hsv.v)).toString()+","+ColorConverter.hsv2rgb(new ColorConverter.HSV(120/360,this.hsv.s,this.hsv.v)).toString()+","+ColorConverter.hsv2rgb(new ColorConverter.HSV(.5,this.hsv.s,this.hsv.v)).toString()+","+ColorConverter.hsv2rgb(new ColorConverter.HSV(240/360,this.hsv.s,this.hsv.v)).toString()+","+ColorConverter.hsv2rgb(new ColorConverter.HSV(300/360,this.hsv.s,this.hsv.v)).toString()+","+ColorConverter.hsv2rgb(new ColorConverter.HSV(0,this.hsv.s,this.hsv.v)).toString()+")"},ColorPicker.prototype.getSaturationGradient=function(){return" -webkit-linear-gradient(left,"+ColorConverter.hsv2rgb(new ColorConverter.HSV(this.hsv.h,0,this.hsv.v)).toString()+","+ColorConverter.hsv2rgb(new ColorConverter.HSV(this.hsv.h,1,this.hsv.v)).toString()+")"},ColorPicker.prototype.getBrightnessGradient=function(){return" -webkit-linear-gradient(left,"+ColorConverter.hsv2rgb(new ColorConverter.HSV(this.hsv.h,this.hsv.s,0)).toString()+","+ColorConverter.hsv2rgb(new ColorConverter.HSV(this.hsv.h,this.hsv.s,1)).toString()+")"},ColorPicker.prototype.buildHueGradient=function(){this.pickerHueSlider.getSliderDom().style.background=this.getHueGradient()},ColorPicker.prototype.updateH=function(e){this.hsv.h=e,this.update(this.hsv)},ColorPicker.prototype.updateS=function(e){this.hsv.s=e,this.update(this.hsv)},ColorPicker.prototype.updateV=function(e){this.hsv.v=e,this.update(this.hsv)},ColorPicker.prototype.updateGradients=function(){this.buildHueGradient(),this.hsvSliders.h.getSliderDom().style.background=this.getHueGradient(),this.hsvSliders.s.getSliderDom().style.background=this.getSaturationGradient(),this.hsvSliders.v.getSliderDom().style.background=this.getBrightnessGradient(),this.rgbSliders.r.getSliderDom().style.background="-webkit-linear-gradient(left, rgb(0,"+this.rgb.g+","+this.rgb.b+"), rgb(255,"+this.rgb.g+","+this.rgb.b+"))",this.rgbSliders.g.getSliderDom().style.background="-webkit-linear-gradient(left, rgb("+this.rgb.r+",0,"+this.rgb.b+"), rgb("+this.rgb.r+", 255,"+this.rgb.b+"))",this.rgbSliders.b.getSliderDom().style.background="-webkit-linear-gradient(left, rgb("+this.rgb.r+","+this.rgb.g+",0), rgb("+this.rgb.r+","+this.rgb.g+",255))";var e=ColorConverter.cmyk2rgb(new ColorConverter.CMYK(0,this.cmyk.m,this.cmyk.y,this.cmyk.k)).toString(),t=ColorConverter.cmyk2rgb(new ColorConverter.CMYK(100,this.cmyk.m,this.cmyk.y,this.cmyk.k)).toString(),r=ColorConverter.cmyk2rgb(new ColorConverter.CMYK(this.cmyk.c,0,this.cmyk.y,this.cmyk.k)).toString(),s=ColorConverter.cmyk2rgb(new ColorConverter.CMYK(this.cmyk.c,100,this.cmyk.y,this.cmyk.k)).toString(),i=ColorConverter.cmyk2rgb(new ColorConverter.CMYK(this.cmyk.c,this.cmyk.m,0,this.cmyk.k)).toString(),n=ColorConverter.cmyk2rgb(new ColorConverter.CMYK(this.cmyk.c,this.cmyk.m,100,this.cmyk.k)).toString(),o=ColorConverter.cmyk2rgb(new ColorConverter.CMYK(this.cmyk.c,this.cmyk.m,this.cmyk.y,0)).toString(),h=ColorConverter.cmyk2rgb(new ColorConverter.CMYK(this.cmyk.c,this.cmyk.m,this.cmyk.y,100)).toString();this.cmykSliders.c.getSliderDom().style.background=" -webkit-linear-gradient(left,"+e+", "+t+")",this.cmykSliders.m.getSliderDom().style.background=" -webkit-linear-gradient(left,"+r+", "+s+")",this.cmykSliders.y.getSliderDom().style.background=" -webkit-linear-gradient(left,"+i+", "+n+")",this.cmykSliders.k.getSliderDom().style.background=" -webkit-linear-gradient(left,"+o+", "+h+")",this.pickingArea.style.background=ColorConverter.hsv2rgb(new ColorConverter.HSV(this.hsv.h,1,1)).toString()},ColorPicker.prototype.fetchColors=function(){this.rgb=ColorConverter.hsv2rgb(this.hsv),"hex"!=this.updateFrom?this.hex=ColorConverter.rgb2hex(this.rgb):this.hex=this.source,this.cmyk=ColorConverter.rgb2cmyk(this.rgb)},ColorPicker.prototype.refreshSliders=function(e){"hsv"!=e&&(this.hsvSliders.h.move(Math.round(360*this.hsv.h)),this.hsvSliders.s.move(Math.round(100*this.hsv.s)),this.hsvSliders.v.move(Math.round(100*this.hsv.v))),"rgb"!=e&&(this.rgbSliders.r.move(this.rgb.r),this.rgbSliders.g.move(this.rgb.g),this.rgbSliders.b.move(this.rgb.b)),"cmyk"!=e&&(this.cmykSliders.c.move(this.cmyk.c),this.cmykSliders.m.move(this.cmyk.m),this.cmykSliders.y.move(this.cmyk.y),this.cmykSliders.k.move(this.cmyk.k))},ColorPicker.prototype.refreshPicker=function(){this.pickerHandleBounds=this.pickerHandle.getBoundingClientRect(),this.pickingAreaBounds=this.pickingArea.getBoundingClientRect(),this.pickerHandle.style.left=Math.round(this.hsv.s*this.pickingAreaBounds.width-this.pickerHandleBounds.width/2)+"px",this.pickerHandle.style.top=Math.round((1-this.hsv.v)*this.pickingAreaBounds.height-this.pickerHandleBounds.height/2)+"px"},ColorPicker.prototype.updateFromHex=function(e){this.updateFrom="hex",this.source=e;var t=ColorConverter.hex2rgb(e);if(t){var r=ColorConverter.rgb2hsv(t);this.update(r)}this.refreshSliders(),this.updateGradients(),this.updateFrom=null,this.source=null}}();